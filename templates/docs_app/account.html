{% include 'includes/layout.html' %}

<div class="container">
    <div class="card">
        <div class="card-header">
            Информация об аккаунте (возможно редактирование данных)
        </div>
        <div class="card-body">
            {% if msg %}
            <div class="alert alert-secondary" role="alert">
                {{ msg }}
            </div>
            {% endif %}
            <form method="post">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Email</label>
                        <input type="email" class="form-control" name="email" required placeholder="example@mail.com"
                               value="{{ user.email }}">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Логин</label>
                        <input type="username" class="form-control" name="user_name" required placeholder="Ваш логин"
                               value="{{ user.user_name }}">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Имя</label>
                        <input type="text" class="form-control" name="first_name" required placeholder="Ваше имя"
                               value="{{ user.first_name }}">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Фамилия</label>
                        <input type="text" class="form-control" name="last_name" required placeholder="Ваша фамилия"
                               value="{{ user.last_name }}">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label>Наименование компании</label>
                        <input type="text" class="form-control"
                               name="company_name" required placeholder="ООО 'Организация'"
                               value="{{ user.company_name }}">
                    </div>
                    <div class="form-group col-md-6">
                        <label>Телефон</label>
                        <input type="tel" class="form-control"
                               name="phone_number" required placeholder="+7(922)258-89-89"
                               pattern="[\+]\d{1}\s[\(]\d{3}[\)]\s\d{3}[\-]\d{2}[\-]\d{2}" minlength="18"
                               maxlength="18" value="{{ user.phone_number }}">
                    </div>
                </div>
                <button type="submit" class="btn btn-info">Сохранить</button>
                <button onclick="delete_user('{{ user.id }}'); return false;"
                        type="button" class="btn btn-danger">Удалить пользователя
                </button>
                <script>
                    function delete_user(user_id) {
                        if (window.confirm('Пользователь будет удален?')) {
                            window.location.href = '/users_account/delete/' + user_id;
                        }
                    }
                </script>
            </form>
        </div>
    </div>
</div>